import { useState } from "react";

export function useGenerateImage() {
  const [imageUrl, setImageUrl] = useState("");

  async function generate(prompt) {
    if (!prompt || typeof prompt !== "string") {
      throw new Error("Prompt must be a non-empty string");
    }

    const seed = Math.floor(Math.random() * 1000000); 
    const url = `https://image.pollinations.ai/prompt/${encodeURIComponent(
      prompt
    )}?model=cinematic-realism&seed=${seed}`;

    setImageUrl(url);
    return url;
  }

  return { imageUrl, generate };
}